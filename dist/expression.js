/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["expression"] = factory();
	else
		root["expression"] = factory();
})(self, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/ast/expr/array.ts":
/*!*******************************!*\
  !*** ./src/ast/expr/array.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar ArrayExpression = /** @class */ (function (_super) {\r\n    __extends(ArrayExpression, _super);\r\n    function ArrayExpression(elements, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'ArrayExpression';\r\n        _this.elements = elements || [];\r\n        return _this;\r\n    }\r\n    ArrayExpression.prototype.addElement = function (element) {\r\n        this.elements.push(element);\r\n    };\r\n    ArrayExpression.prototype.isEmpty = function () {\r\n        return this.elements.length === 0;\r\n    };\r\n    ArrayExpression.prototype.evaluate = function (runtime) {\r\n        return this.elements.map(function (element) { return element.evaluate(runtime); });\r\n    };\r\n    return ArrayExpression;\r\n}(node_1.Expr));\r\nexports[\"default\"] = ArrayExpression;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/expr/array.ts?");

/***/ }),

/***/ "./src/ast/expr/binary.ts":
/*!********************************!*\
  !*** ./src/ast/expr/binary.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar errors_1 = __webpack_require__(/*! ../../errors */ \"./src/errors.ts\");\r\nvar BinaryExpression = /** @class */ (function (_super) {\r\n    __extends(BinaryExpression, _super);\r\n    function BinaryExpression(left, operator, right, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'BinaryExpression';\r\n        _this.left = left;\r\n        _this.operator = operator;\r\n        _this.right = right;\r\n        return _this;\r\n    }\r\n    BinaryExpression.prototype.evaluate = function (runtime) {\r\n        var left = this.left.evaluate(runtime);\r\n        var right = this.right.evaluate(runtime);\r\n        var result;\r\n        switch (this.operator) {\r\n            case '||':\r\n                result = left || right;\r\n                break;\r\n            case '&&':\r\n                result = left && result;\r\n                break;\r\n            case '|':\r\n                result = left | right;\r\n                break;\r\n            case '^':\r\n                result = left ^ right;\r\n                break;\r\n            case '&':\r\n                result = left & right;\r\n                break;\r\n            case '==':\r\n                result = left == right;\r\n                break;\r\n            case '===':\r\n                result = left === right;\r\n                break;\r\n            case '!=':\r\n                result = left != right;\r\n                break;\r\n            case '!==':\r\n                result = left !== right;\r\n                break;\r\n            case '<':\r\n                result = left < right;\r\n                break;\r\n            case '>':\r\n                result = left > right;\r\n                break;\r\n            case '>=':\r\n                result = left >= right;\r\n                break;\r\n            case '<=':\r\n                result = left <= right;\r\n                break;\r\n            case 'not in':\r\n                result = right.indexOf(left) === -1;\r\n                break;\r\n            case 'in':\r\n                result = right.indexOf(left) > 0;\r\n                break;\r\n            case '+':\r\n                result = left + right;\r\n                break;\r\n            case '-':\r\n                result = left - right;\r\n                break;\r\n            case '~':\r\n                result = '' + left + right;\r\n                break;\r\n            case '*':\r\n                result = left * right;\r\n                break;\r\n            case '/':\r\n                if (0 == right) {\r\n                    throw new errors_1.RuntimeError('Division by zero.', this.right.position);\r\n                }\r\n                result = left / right;\r\n                break;\r\n            case '%':\r\n                if (0 == right) {\r\n                    throw new errors_1.RuntimeError('Modulo by zero.', this.right.position);\r\n                }\r\n                result = left % right;\r\n                break;\r\n        }\r\n        return result;\r\n    };\r\n    return BinaryExpression;\r\n}(node_1.Expr));\r\nexports[\"default\"] = BinaryExpression;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/expr/binary.ts?");

/***/ }),

/***/ "./src/ast/expr/call.ts":
/*!******************************!*\
  !*** ./src/ast/expr/call.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar CallExpression = /** @class */ (function (_super) {\r\n    __extends(CallExpression, _super);\r\n    function CallExpression(callee, args, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.callee = callee;\r\n        _this.args = args;\r\n        return _this;\r\n    }\r\n    CallExpression.prototype.evaluate = function (runtime) {\r\n        var callee = this.callee.evaluate(runtime);\r\n        var args = this.args.map(function (arg) { return arg.evaluate(runtime); });\r\n        return callee(args);\r\n    };\r\n    return CallExpression;\r\n}(node_1.Expr));\r\nexports[\"default\"] = CallExpression;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/expr/call.ts?");

/***/ }),

/***/ "./src/ast/expr/literal.ts":
/*!*********************************!*\
  !*** ./src/ast/expr/literal.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar LiteralExpression = /** @class */ (function (_super) {\r\n    __extends(LiteralExpression, _super);\r\n    function LiteralExpression(value, raw, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'LiteralExpression';\r\n        _this.value = value;\r\n        _this.raw = raw;\r\n        return _this;\r\n    }\r\n    LiteralExpression.prototype.evaluate = function (runtime) {\r\n        return this.value;\r\n    };\r\n    return LiteralExpression;\r\n}(node_1.Expr));\r\nexports[\"default\"] = LiteralExpression;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/expr/literal.ts?");

/***/ }),

/***/ "./src/ast/expr/map.ts":
/*!*****************************!*\
  !*** ./src/ast/expr/map.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar MapEntry = /** @class */ (function () {\r\n    function MapEntry(key, value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n    return MapEntry;\r\n}());\r\nvar MapExpression = /** @class */ (function (_super) {\r\n    __extends(MapExpression, _super);\r\n    function MapExpression(entries, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'MapExpression';\r\n        _this.entries = entries || [];\r\n        return _this;\r\n    }\r\n    MapExpression.prototype.addElement = function (key, value) {\r\n        this.entries.push(new MapEntry(key, value));\r\n    };\r\n    MapExpression.prototype.isEmpty = function () {\r\n        return this.entries.length === 0;\r\n    };\r\n    MapExpression.prototype.evaluate = function (runtime) {\r\n        var result = {};\r\n        this.entries.forEach(function (entry) {\r\n            result[entry.key.evaluate(runtime)] = entry.value.evaluate(runtime);\r\n        });\r\n        return result;\r\n    };\r\n    return MapExpression;\r\n}(node_1.Expr));\r\nexports[\"default\"] = MapExpression;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/expr/map.ts?");

/***/ }),

/***/ "./src/ast/expr/member.ts":
/*!********************************!*\
  !*** ./src/ast/expr/member.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar errors_1 = __webpack_require__(/*! ../../errors */ \"./src/errors.ts\");\r\nvar MemberExpression = /** @class */ (function (_super) {\r\n    __extends(MemberExpression, _super);\r\n    function MemberExpression(object, property, computed, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.object = object;\r\n        _this.property = property;\r\n        _this.computed = computed;\r\n        return _this;\r\n    }\r\n    MemberExpression.prototype.evaluate = function (runtime) {\r\n        var object = this.object.evaluate(runtime);\r\n        var property = this.property.evaluate(runtime);\r\n        return object[property];\r\n    };\r\n    MemberExpression.prototype.changeRuntime = function (runtime, value) {\r\n        var object = this.object.evaluate(runtime);\r\n        var property = this.property.evaluate(runtime);\r\n        if (typeof object[property] !== 'undefined' && typeof object[property] !== 'function') {\r\n            object[property] = value;\r\n        }\r\n        else {\r\n            throw new errors_1.RuntimeError('Cannot change reference.');\r\n        }\r\n    };\r\n    return MemberExpression;\r\n}(node_1.Expr));\r\nexports[\"default\"] = MemberExpression;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/expr/member.ts?");

/***/ }),

/***/ "./src/ast/expr/unary.ts":
/*!*******************************!*\
  !*** ./src/ast/expr/unary.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar errors_1 = __webpack_require__(/*! ../../errors */ \"./src/errors.ts\");\r\nvar UnaryExpression = /** @class */ (function (_super) {\r\n    __extends(UnaryExpression, _super);\r\n    function UnaryExpression(operator, argument, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'UnaryExpression';\r\n        _this.operator = operator;\r\n        _this.argument = argument;\r\n        return _this;\r\n    }\r\n    UnaryExpression.prototype.evaluate = function (runtime) {\r\n        var result;\r\n        switch (this.operator) {\r\n            case '++':\r\n                result = this.argument.evaluate(runtime);\r\n                break;\r\n            case '--':\r\n                result = this.argument.evaluate(runtime);\r\n                break;\r\n            case '!':\r\n                result = !Boolean(this.argument.evaluate(runtime));\r\n                break;\r\n            case '+':\r\n                result = this.argument.evaluate(runtime);\r\n                break;\r\n            case '-':\r\n                result = -Number(this.argument.evaluate(runtime));\r\n                break;\r\n            default:\r\n                throw new errors_1.RuntimeError(\"Unrecognized operator \".concat(this.operator));\r\n        }\r\n        return result;\r\n    };\r\n    return UnaryExpression;\r\n}(node_1.Expr));\r\nexports[\"default\"] = UnaryExpression;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/expr/unary.ts?");

/***/ }),

/***/ "./src/ast/expr/update.ts":
/*!********************************!*\
  !*** ./src/ast/expr/update.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar UpdateExpression = /** @class */ (function (_super) {\r\n    __extends(UpdateExpression, _super);\r\n    function UpdateExpression(operator, argument, prefix, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'UpdateExpression';\r\n        _this.operator = operator;\r\n        _this.argument = argument;\r\n        _this.prefix = prefix;\r\n        _this.position = position;\r\n        return _this;\r\n    }\r\n    UpdateExpression.prototype.evaluate = function (runtime) {\r\n        // force convert to number; not assert\r\n        var argument = Number(this.argument.evaluate(runtime));\r\n        var result = argument;\r\n        if (this.prefix) {\r\n            result = argument + 1;\r\n        }\r\n        this.argument.changeRuntime(runtime, result);\r\n        return result;\r\n    };\r\n    return UpdateExpression;\r\n}(node_1.Expr));\r\nexports[\"default\"] = UpdateExpression;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/expr/update.ts?");

/***/ }),

/***/ "./src/ast/expr/variable.ts":
/*!**********************************!*\
  !*** ./src/ast/expr/variable.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar errors_1 = __webpack_require__(/*! ../../errors */ \"./src/errors.ts\");\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar VariableExpression = /** @class */ (function (_super) {\r\n    __extends(VariableExpression, _super);\r\n    function VariableExpression(value, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'Variable';\r\n        _this.value = value;\r\n        return _this;\r\n    }\r\n    VariableExpression.prototype.evaluate = function (runtime) {\r\n        if (!runtime.hasReference(this.value)) {\r\n            throw new errors_1.RuntimeError(\"Undefined Reference, \".concat(this.value, \" is not defined\"), this.position);\r\n        }\r\n        return runtime.getReference(this.value);\r\n    };\r\n    VariableExpression.prototype.changeRuntime = function (runtime, value) {\r\n        runtime.setReference(this.value, value);\r\n    };\r\n    return VariableExpression;\r\n}(node_1.Expr));\r\nexports[\"default\"] = VariableExpression;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/expr/variable.ts?");

/***/ }),

/***/ "./src/ast/node.ts":
/*!*************************!*\
  !*** ./src/ast/node.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nexports.Identifier = exports.Expr = exports.Stmt = exports.Root = void 0;\r\n// root node.\r\nvar Root = /** @class */ (function () {\r\n    function Root(position) {\r\n        this.type = 'Node';\r\n        this.position = position;\r\n    }\r\n    Root.prototype.evaluate = function (runtime) {\r\n        // ignore in root node.\r\n    };\r\n    return Root;\r\n}());\r\nexports.Root = Root;\r\n// all statement\r\nvar Stmt = /** @class */ (function (_super) {\r\n    __extends(Stmt, _super);\r\n    function Stmt() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return Stmt;\r\n}(Root));\r\nexports.Stmt = Stmt;\r\n// all expression\r\nvar Expr = /** @class */ (function (_super) {\r\n    __extends(Expr, _super);\r\n    function Expr() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return Expr;\r\n}(Root));\r\nexports.Expr = Expr;\r\nvar Identifier = /** @class */ (function (_super) {\r\n    __extends(Identifier, _super);\r\n    function Identifier(value, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'Identifier';\r\n        _this.value = value;\r\n        return _this;\r\n    }\r\n    Identifier.prototype.evaluate = function (runtime) {\r\n        return this.value;\r\n    };\r\n    return Identifier;\r\n}(Root));\r\nexports.Identifier = Identifier;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/node.ts?");

/***/ }),

/***/ "./src/ast/stmt/assign.ts":
/*!********************************!*\
  !*** ./src/ast/stmt/assign.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar AssignStatement = /** @class */ (function (_super) {\r\n    __extends(AssignStatement, _super);\r\n    function AssignStatement(variable, value, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'AssignStatement';\r\n        _this.variable = variable;\r\n        _this.value = value;\r\n        return _this;\r\n    }\r\n    AssignStatement.prototype.evaluate = function (runtime) {\r\n        // change runtime runtime.\r\n        runtime.setReference(this.variable.evaluate(runtime), this.value.evaluate(runtime));\r\n    };\r\n    return AssignStatement;\r\n}(node_1.Stmt));\r\nexports[\"default\"] = AssignStatement;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/stmt/assign.ts?");

/***/ }),

/***/ "./src/ast/stmt/block.ts":
/*!*******************************!*\
  !*** ./src/ast/stmt/block.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar BlockStatement = /** @class */ (function (_super) {\r\n    __extends(BlockStatement, _super);\r\n    function BlockStatement(stmts, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'BlockStatement';\r\n        _this.stmts = stmts;\r\n        return _this;\r\n    }\r\n    BlockStatement.prototype.evaluate = function (runtime) {\r\n        var evaluated; //return last statement.\r\n        this.stmts.forEach(function (stmt) {\r\n            evaluated = stmt.evaluate(runtime);\r\n        });\r\n        return evaluated;\r\n    };\r\n    return BlockStatement;\r\n}(node_1.Stmt));\r\nexports[\"default\"] = BlockStatement;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/stmt/block.ts?");

/***/ }),

/***/ "./src/ast/stmt/expr.ts":
/*!******************************!*\
  !*** ./src/ast/stmt/expr.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar node_1 = __webpack_require__(/*! ../node */ \"./src/ast/node.ts\");\r\nvar ExpressionStatement = /** @class */ (function (_super) {\r\n    __extends(ExpressionStatement, _super);\r\n    function ExpressionStatement(expr, position) {\r\n        var _this = _super.call(this, position) || this;\r\n        _this.type = 'ExpressionStatement';\r\n        _this.expr = expr;\r\n        return _this;\r\n    }\r\n    ExpressionStatement.prototype.evaluate = function (runtime) {\r\n        return this.expr.evaluate(runtime);\r\n    };\r\n    return ExpressionStatement;\r\n}(node_1.Stmt));\r\nexports[\"default\"] = ExpressionStatement;\r\n\n\n//# sourceURL=webpack://expression/./src/ast/stmt/expr.ts?");

/***/ }),

/***/ "./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports) {

eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nexports.RuntimeError = exports.SyntaxError = void 0;\r\nvar SyntaxError = /** @class */ (function (_super) {\r\n    __extends(SyntaxError, _super);\r\n    function SyntaxError(message, position) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.position = position;\r\n        return _this;\r\n    }\r\n    return SyntaxError;\r\n}(Error));\r\nexports.SyntaxError = SyntaxError;\r\nvar RuntimeError = /** @class */ (function (_super) {\r\n    __extends(RuntimeError, _super);\r\n    function RuntimeError(message, position) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.position = position;\r\n        return _this;\r\n    }\r\n    return RuntimeError;\r\n}(Error));\r\nexports.RuntimeError = RuntimeError;\r\n\n\n//# sourceURL=webpack://expression/./src/errors.ts?");

/***/ }),

/***/ "./src/expression.ts":
/*!***************************!*\
  !*** ./src/expression.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nexports.__esModule = true;\r\nvar lexer_1 = __importDefault(__webpack_require__(/*! ./lexer */ \"./src/lexer.ts\"));\r\nvar parser_1 = __importDefault(__webpack_require__(/*! ./parser */ \"./src/parser.ts\"));\r\nvar runtime_1 = __webpack_require__(/*! ./runtime */ \"./src/runtime.ts\");\r\nvar Expression = /** @class */ (function () {\r\n    function Expression() {\r\n    }\r\n    // Evaluate the expression and return output of the last expr.\r\n    Expression.prototype.evaluate = function (source, context) {\r\n        var node = Expression.createParser(source).parse();\r\n        return node.evaluate(Expression.createRuntime(context));\r\n    };\r\n    // parse the ast of the source.\r\n    Expression.prototype.parse = function (source) {\r\n        return Expression.createParser(source).parse();\r\n    };\r\n    // tokenize source code.\r\n    Expression.prototype.lex = function (source) {\r\n        return Expression.createLexer(source).lex();\r\n    };\r\n    Expression.createRuntime = function (context) {\r\n        if (typeof context.hasReference === 'function') {\r\n            return context;\r\n        }\r\n        return new runtime_1.GenericRuntime(context);\r\n    };\r\n    Expression.createParser = function (source) {\r\n        return new parser_1[\"default\"](Expression.createLexer(source).lex());\r\n    };\r\n    Expression.createLexer = function (source) {\r\n        return new lexer_1[\"default\"](source);\r\n    };\r\n    return Expression;\r\n}());\r\nexports[\"default\"] = Expression;\r\n\n\n//# sourceURL=webpack://expression/./src/expression.ts?");

/***/ }),

/***/ "./src/lexer.ts":
/*!**********************!*\
  !*** ./src/lexer.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nexports.__esModule = true;\r\nvar position_1 = __importDefault(__webpack_require__(/*! ./position */ \"./src/position.ts\"));\r\nvar token_1 = __webpack_require__(/*! ./token */ \"./src/token.ts\");\r\nvar utils_1 = __importDefault(__webpack_require__(/*! ./utils */ \"./src/utils.ts\"));\r\nvar errors_1 = __webpack_require__(/*! ./errors */ \"./src/errors.ts\");\r\nvar Lexer = /** @class */ (function () {\r\n    function Lexer(source) {\r\n        // original string\r\n        this.source = source;\r\n        this.end = this.source.length;\r\n        if (this.end === 0) {\r\n            throw new errors_1.SyntaxError('The source code cannot be blank');\r\n        }\r\n        this.offset = 0;\r\n        this.line = 1;\r\n        this.column = 0;\r\n    }\r\n    Lexer.prototype.lex = function () {\r\n        var tokens = new token_1.TokenStream();\r\n        var token;\r\n        while (!this.eof()) {\r\n            // current char.\r\n            var ch = this.current();\r\n            // skip blank char.\r\n            if (ch === ' ' || ch === \"\\n\") {\r\n                this.next();\r\n                continue;\r\n            }\r\n            var position = this.position();\r\n            switch (true) {\r\n                case utils_1[\"default\"].isDigit(ch):\r\n                    token = new token_1.Token(2 /* T_NUM */, this.readNumber(), position);\r\n                    break;\r\n                case ch === '\\'' || ch === '\\\"':\r\n                    token = new token_1.Token(1 /* T_STR */, this.readString(ch), position);\r\n                    break;\r\n                case utils_1[\"default\"].isLetter(ch):\r\n                    token = new token_1.Token(3 /* T_ID */, this.readIdentifier(), position);\r\n                    break;\r\n                default:\r\n                    token = this.lexPunctuation(position);\r\n            }\r\n            tokens.add(token);\r\n        }\r\n        tokens.add(new token_1.Token(0 /* T_EOF */, token_1.Tokens[0 /* T_EOF */], this.position()));\r\n        return tokens;\r\n    };\r\n    Lexer.prototype.lexPunctuation = function (position) {\r\n        var type, next;\r\n        var ch = this.current();\r\n        switch (ch) {\r\n            case '=':\r\n                type = 16 /* T_ASSIGN */;\r\n                next = this.look();\r\n                if (next === '=') {\r\n                    type = 21 /* T_EQ */;\r\n                    this.next();\r\n                }\r\n                break;\r\n            case '!':\r\n                type = 11 /* T_NOT */;\r\n                next = this.look();\r\n                if (next === '=') {\r\n                    type = 12 /* T_NEQ */;\r\n                    this.next();\r\n                }\r\n                break;\r\n            case '<':\r\n                type = 19 /* T_LT */;\r\n                next = this.look();\r\n                if (next === '=') {\r\n                    type = 20 /* T_LE */;\r\n                    this.next();\r\n                }\r\n                break;\r\n            case '>':\r\n                type = 17 /* T_GT */;\r\n                next = this.look();\r\n                if (next === '=') {\r\n                    type = 18 /* T_GE */;\r\n                    this.next();\r\n                }\r\n                break;\r\n            case '&':\r\n                type = 13 /* T_LEA */;\r\n                next = this.look();\r\n                if (next === '&') {\r\n                    type = 14 /* T_AND */;\r\n                    this.next();\r\n                }\r\n                break;\r\n            case '+':\r\n                type = 4 /* T_ADD */;\r\n                next = this.look();\r\n                if (next === '+') {\r\n                    type = 9 /* T_INC */;\r\n                    this.next();\r\n                }\r\n                break;\r\n            case '-':\r\n                type = 5 /* T_SUB */;\r\n                next = this.look();\r\n                if (next === '-') {\r\n                    type = 10 /* T_DEC */;\r\n                    this.next();\r\n                }\r\n                break;\r\n            case '*':\r\n                type = 6 /* T_MUL */;\r\n                break;\r\n            case '/':\r\n                type = 7 /* T_DIV */;\r\n                break;\r\n            case '%':\r\n                type = 8 /* T_MOD */;\r\n                break;\r\n            case '(':\r\n                type = 22 /* T_LPAREN */;\r\n                break;\r\n            case '[':\r\n                type = 23 /* T_LBRACKET */;\r\n                break;\r\n            case '{':\r\n                type = 24 /* T_LBRACE */;\r\n                break;\r\n            case ')':\r\n                type = 25 /* T_RPAREN */;\r\n                break;\r\n            case ']':\r\n                type = 26 /* T_RBRACKET */;\r\n                break;\r\n            case '}':\r\n                type = 27 /* T_RBRACE */;\r\n                break;\r\n            case ',':\r\n                type = 28 /* T_COMMA */;\r\n                break;\r\n            case ':':\r\n                type = 29 /* T_COLON */;\r\n                break;\r\n            case ';':\r\n                type = 30 /* T_SEMICOLON */;\r\n                break;\r\n            case '.':\r\n                type = 31 /* T_DOT */;\r\n                break;\r\n            case '?':\r\n                type = 32 /* T_QUESTION_MARK */;\r\n                break;\r\n            default:\r\n                throw new errors_1.SyntaxError(\"Unrecognized punctuation \".concat(ch), position);\r\n        }\r\n        this.next();\r\n        return new token_1.Token(type, token_1.Tokens[type], position);\r\n    };\r\n    Lexer.prototype.readNumber = function () {\r\n        var isFloat = false;\r\n        return this.readIf(function (ch) {\r\n            if (ch === \".\") {\r\n                if (isFloat) {\r\n                    return false;\r\n                }\r\n                isFloat = true;\r\n                return true;\r\n            }\r\n            return utils_1[\"default\"].isDigit(ch);\r\n        });\r\n    };\r\n    Lexer.prototype.readString = function (beginChar) {\r\n        this.next(); // skip first ' or \"\r\n        var buffer = this.readIf(function (ch) {\r\n            return ch !== beginChar;\r\n        });\r\n        this.next(); // skip last ' or \"\r\n        return buffer;\r\n    };\r\n    Lexer.prototype.readIdentifier = function () {\r\n        return this.readIf(function (ch) {\r\n            return utils_1[\"default\"].isIdentifier(ch);\r\n        });\r\n    };\r\n    Lexer.prototype.readIf = function (predicate) {\r\n        var buffer = [];\r\n        while (!this.eof()) {\r\n            var ch = this.next();\r\n            if (predicate(ch)) {\r\n                buffer.push(ch);\r\n                continue;\r\n            }\r\n            this.offset--; // back one if the next is not matched.\r\n            break;\r\n        }\r\n        return buffer.join('');\r\n    };\r\n    Lexer.prototype.next = function () {\r\n        var ch = this.source.charAt(this.offset++);\r\n        if (ch === \"\\n\") {\r\n            this.line++;\r\n            this.column = 0;\r\n        }\r\n        else {\r\n            this.column++;\r\n        }\r\n        return ch;\r\n    };\r\n    Lexer.prototype.look = function () {\r\n        return this.source.charAt(this.offset + 1);\r\n    };\r\n    Lexer.prototype.current = function () {\r\n        return this.source.charAt(this.offset);\r\n    };\r\n    Lexer.prototype.eof = function () {\r\n        return this.current() === '';\r\n    };\r\n    Lexer.prototype.position = function () {\r\n        return new position_1[\"default\"](this.offset, this.line, this.column);\r\n    };\r\n    return Lexer;\r\n}());\r\nexports[\"default\"] = Lexer;\r\n\n\n//# sourceURL=webpack://expression/./src/lexer.ts?");

/***/ }),

/***/ "./src/parser.ts":
/*!***********************!*\
  !*** ./src/parser.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nexports.__esModule = true;\r\nvar errors_1 = __webpack_require__(/*! ./errors */ \"./src/errors.ts\");\r\nvar array_1 = __importDefault(__webpack_require__(/*! ./ast/expr/array */ \"./src/ast/expr/array.ts\"));\r\nvar literal_1 = __importDefault(__webpack_require__(/*! ./ast/expr/literal */ \"./src/ast/expr/literal.ts\"));\r\nvar assign_1 = __importDefault(__webpack_require__(/*! ./ast/stmt/assign */ \"./src/ast/stmt/assign.ts\"));\r\nvar map_1 = __importDefault(__webpack_require__(/*! ./ast/expr/map */ \"./src/ast/expr/map.ts\"));\r\nvar binary_1 = __importDefault(__webpack_require__(/*! ./ast/expr/binary */ \"./src/ast/expr/binary.ts\"));\r\nvar expr_1 = __importDefault(__webpack_require__(/*! ./ast/stmt/expr */ \"./src/ast/stmt/expr.ts\"));\r\nvar block_1 = __importDefault(__webpack_require__(/*! ./ast/stmt/block */ \"./src/ast/stmt/block.ts\"));\r\nvar variable_1 = __importDefault(__webpack_require__(/*! ./ast/expr/variable */ \"./src/ast/expr/variable.ts\"));\r\nvar member_1 = __importDefault(__webpack_require__(/*! ./ast/expr/member */ \"./src/ast/expr/member.ts\"));\r\nvar call_1 = __importDefault(__webpack_require__(/*! ./ast/expr/call */ \"./src/ast/expr/call.ts\"));\r\nvar update_1 = __importDefault(__webpack_require__(/*! ./ast/expr/update */ \"./src/ast/expr/update.ts\"));\r\nvar unary_1 = __importDefault(__webpack_require__(/*! ./ast/expr/unary */ \"./src/ast/expr/unary.ts\"));\r\nvar node_1 = __webpack_require__(/*! ./ast/node */ \"./src/ast/node.ts\");\r\nvar Parser = /** @class */ (function () {\r\n    function Parser(tokens) {\r\n        this.tokens = tokens;\r\n    }\r\n    Parser.prototype.parse = function () {\r\n        var token = this.tokens.current();\r\n        var stmts = [];\r\n        while (!this.tokens.eof()) {\r\n            stmts.push(this.parseStatement());\r\n        }\r\n        return new block_1[\"default\"](stmts, token.position);\r\n    };\r\n    Parser.prototype.parseStatement = function () {\r\n        var token = this.tokens.current();\r\n        var stmt;\r\n        if (token.test(3 /* T_ID */) && this.tokens.look().test(16 /* T_ASSIGN */)) {\r\n            stmt = this.parseAssignStatement();\r\n        }\r\n        else if (token.test(24 /* T_LBRACE */) && !this.tokens.look().test(27 /* T_RBRACE */) && !this.tokens.look(2).test(29 /* T_COLON */)) {\r\n            stmt = this.parseBlockStatement();\r\n        }\r\n        else {\r\n            stmt = new expr_1[\"default\"](this.parseExpression(), token.position);\r\n        }\r\n        if (!this.tokens.current().test(0 /* T_EOF */)) {\r\n            this.tokens.expect(30 /* T_SEMICOLON */);\r\n        }\r\n        return stmt;\r\n    };\r\n    Parser.prototype.parseBlockStatement = function () {\r\n        this.tokens.expect(24 /* T_LBRACE */, 'A block must begin with an opening braces');\r\n        var token = this.tokens.current();\r\n        var stmts = [];\r\n        while (!this.tokens.current().test(27 /* T_RBRACE */)) {\r\n            stmts.push(this.parseStatement());\r\n        }\r\n        this.tokens.expect(27 /* T_RBRACE */, 'A block must be closed by a braces');\r\n        return new block_1[\"default\"](stmts, token.position);\r\n    };\r\n    Parser.prototype.parseAssignStatement = function () {\r\n        var token = this.tokens.current();\r\n        var variable = new node_1.Identifier(token.value, token.position);\r\n        return new assign_1[\"default\"](variable, this.parseExpression(), token.position);\r\n    };\r\n    Parser.prototype.parseExpression = function () {\r\n        var expr = this.parsePrimaryExpression();\r\n        if (this.tokens.current().isBinaryOperator()) {\r\n            expr = this.parseBinaryExpression(expr);\r\n        }\r\n        return expr;\r\n    };\r\n    Parser.prototype.parsePrimaryExpression = function () {\r\n        var token = this.tokens.current();\r\n        var expr;\r\n        switch (token.type) {\r\n            // constant\r\n            case 1 /* T_STR */:\r\n                expr = new literal_1[\"default\"](token.value, token.value, token.position);\r\n                this.tokens.next();\r\n                break;\r\n            case 2 /* T_NUM */:\r\n                expr = new literal_1[\"default\"](Number(token.value), token.value, token.position);\r\n                this.tokens.next();\r\n                break;\r\n            // identifier\r\n            case 3 /* T_ID */:\r\n                expr = this.parseIdentifierExpression();\r\n                break;\r\n            // punctuation\r\n            case 23 /* T_LBRACKET */:\r\n                expr = this.parseArrayExpression();\r\n                break;\r\n            case 24 /* T_LBRACE */:\r\n                expr = this.parseMapExpression();\r\n                break;\r\n            case 22 /* T_LPAREN */:\r\n                expr = this.parseParenExpression();\r\n                break;\r\n            // unary operator\r\n            case 9 /* T_INC */:\r\n            case 10 /* T_DEC */:\r\n                expr = this.parseUpdateExpression(true);\r\n                break;\r\n            case 11 /* T_NOT */:\r\n            case 4 /* T_ADD */:\r\n            case 5 /* T_SUB */:\r\n                expr = this.parseUnaryExpression();\r\n                break;\r\n            default:\r\n                throw new errors_1.SyntaxError(\"Unexpected token \\\"\".concat(token.type, \"\\\" of value \\\"\").concat(token.value, \"\\\".\"));\r\n        }\r\n        return this.parsePosixExpression(expr);\r\n    };\r\n    Parser.prototype.parsePosixExpression = function (expr) {\r\n        while (true) {\r\n            var token = this.tokens.current();\r\n            var end = false;\r\n            switch (token.type) {\r\n                case 22 /* T_LPAREN */:\r\n                    expr = new call_1[\"default\"](expr, this.parseArguments(), token.position);\r\n                    break;\r\n                case 31 /* T_DOT */:\r\n                    expr = this.parseObjectExpression(expr);\r\n                    break;\r\n                case 23 /* T_LBRACKET */: // array[1] , map['property']\r\n                    expr = this.parseAccessExpression(expr);\r\n                    break;\r\n                default:\r\n                    if (this.tokens.current().testAny(9 /* T_INC */, 10 /* T_DEC */)) { // unary operator\r\n                        expr = this.parseUpdateExpression(false, expr);\r\n                    }\r\n                    else {\r\n                        end = true;\r\n                    }\r\n            }\r\n            if (end) {\r\n                break;\r\n            }\r\n        }\r\n        return expr;\r\n    };\r\n    Parser.prototype.parseIdentifierExpression = function () {\r\n        var token = this.tokens.current();\r\n        var expr;\r\n        switch (token.value) {\r\n            case 'true':\r\n            case 'TRUE':\r\n                expr = new literal_1[\"default\"](true, token.value, token.position);\r\n                break;\r\n            case 'false':\r\n            case 'FALSE':\r\n                expr = new literal_1[\"default\"](false, token.value, token.position);\r\n                break;\r\n            case 'null':\r\n            case 'NULL':\r\n                expr = new literal_1[\"default\"](null, token.value, token.position);\r\n                break;\r\n            default:\r\n                expr = new variable_1[\"default\"](token.value, token.position);\r\n        }\r\n        this.tokens.next();\r\n        return expr;\r\n    };\r\n    Parser.prototype.parseObjectExpression = function (object) {\r\n        this.tokens.expect(31 /* T_DOT */);\r\n        var token = this.tokens.expect(3 /* T_ID */);\r\n        var property = new node_1.Identifier(token.value, token.position);\r\n        var expr = new member_1[\"default\"](object, property, false, object.position);\r\n        if (this.tokens.current().test(22 /* T_LPAREN */)) { // method\r\n            expr = new call_1[\"default\"](expr, this.parseArguments(), object.position);\r\n        }\r\n        return expr;\r\n    };\r\n    Parser.prototype.parseAccessExpression = function (object) {\r\n        this.tokens.expect(23 /* T_LBRACKET */);\r\n        var property = this.parseExpression();\r\n        this.tokens.expect(26 /* T_RBRACKET */);\r\n        return new member_1[\"default\"](object, property, false, object.position);\r\n    };\r\n    Parser.prototype.parseBinaryExpression = function (expr) {\r\n        // a + b * c / d\r\n        // a * b + c\r\n        while (this.tokens.current().isBinaryOperator()) {\r\n            expr = this.doParseBinary(expr);\r\n        }\r\n        return expr;\r\n    };\r\n    Parser.prototype.doParseBinary = function (left) {\r\n        var token = this.tokens.current();\r\n        var operator = token.value;\r\n        var currentPrecedence = token.getBinaryPrecedence();\r\n        // right expr.\r\n        this.tokens.next();\r\n        var right = this.parsePrimaryExpression();\r\n        var nextPrecedence = this.tokens.current().getBinaryPrecedence();\r\n        if (currentPrecedence < nextPrecedence) {\r\n            right = this.doParseBinary(right);\r\n        }\r\n        return new binary_1[\"default\"](left, operator, right, left.position);\r\n    };\r\n    Parser.prototype.parseUnaryExpression = function () {\r\n        // !+-+-+-!!+-10\r\n        var token = this.tokens.current();\r\n        var operator = token.value;\r\n        this.tokens.next();\r\n        var argument = this.parsePrimaryExpression();\r\n        return new unary_1[\"default\"](operator, argument, token.position);\r\n    };\r\n    Parser.prototype.parseUpdateExpression = function (prefix, argument) {\r\n        var token = this.tokens.expectOneOf(9 /* T_INC */, 10 /* T_DEC */);\r\n        if (prefix) { // ++a ++a.b ++a.read()\r\n            // ++ a + 1\r\n            // a + b --\r\n            argument = this.parsePrimaryExpression();\r\n        }\r\n        else { // a ++  a.b ++ a.c() ++\r\n        }\r\n        if (!(argument instanceof variable_1[\"default\"]) && !(argument instanceof member_1[\"default\"])) {\r\n            throw new errors_1.SyntaxError('Invalid left-hand side in assignment');\r\n        }\r\n        return new update_1[\"default\"](token.value, argument, prefix, prefix ? token.position : argument.position);\r\n    };\r\n    Parser.prototype.parseParenExpression = function () {\r\n        this.tokens.expect(22 /* T_LPAREN */);\r\n        var expr = this.parseExpression();\r\n        this.tokens.expect(25 /* T_RPAREN */);\r\n        return expr;\r\n    };\r\n    Parser.prototype.parseArrayExpression = function () {\r\n        var token = this.tokens.current();\r\n        var expr = new array_1[\"default\"]([], token.position);\r\n        while (!this.tokens.current().test(26 /* T_RBRACKET */)) {\r\n            if (!expr.isEmpty()) {\r\n                this.tokens.expect(28 /* T_COMMA */, 'An array element must be followed by a comma');\r\n            }\r\n            expr.addElement(this.parseExpression());\r\n        }\r\n        this.tokens.expect(26 /* T_RBRACKET */, 'An array element must be closed by a brackets');\r\n        return expr;\r\n    };\r\n    Parser.prototype.parseMapExpression = function () {\r\n        var token = this.tokens.current();\r\n        this.tokens.expect(24 /* T_LBRACE */, 'A map must begin with an opening braces');\r\n        var expr = new map_1[\"default\"]([], token.position);\r\n        while (!this.tokens.current().test(27 /* T_RBRACE */)) {\r\n            if (!expr.isEmpty()) {\r\n                this.tokens.expect(28 /* T_COMMA */, 'A map must be followed by a comma');\r\n            }\r\n            var key = this.tokens.expect(1 /* T_STR */, 'A map key must be a string');\r\n            this.tokens.expect(29 /* T_COLON */, 'The map key and value must be separated by a colon(:)');\r\n            var value = this.parseExpression();\r\n            expr.addElement(new literal_1[\"default\"](key.value, key.value, key.position), value);\r\n        }\r\n        this.tokens.expect(27 /* T_RBRACE */, 'A map must be closed by a braces');\r\n        return expr;\r\n    };\r\n    Parser.prototype.parseArguments = function () {\r\n        // the_foo_func(1, \"foo\")\r\n        var args = [];\r\n        this.tokens.expect(22 /* T_LPAREN */, 'A list of arguments must begin with an opening parenthesis');\r\n        while (!this.tokens.current().test(25 /* T_RPAREN */)) {\r\n            if (args.length > 0) { // the prev arguments is exists.\r\n                this.tokens.expect(28 /* T_COMMA */, 'Arguments must be separated by a comma');\r\n            }\r\n            args.push(this.parseExpression());\r\n        }\r\n        this.tokens.expect(25 /* T_RPAREN */, 'A list of arguments must be closed by a parenthesis');\r\n        return args;\r\n    };\r\n    return Parser;\r\n}());\r\nexports[\"default\"] = Parser;\r\n\n\n//# sourceURL=webpack://expression/./src/parser.ts?");

/***/ }),

/***/ "./src/position.ts":
/*!*************************!*\
  !*** ./src/position.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nexports.__esModule = true;\r\nvar Position = /** @class */ (function () {\r\n    function Position(offset, line, column) {\r\n        this.offset = offset;\r\n        this.line = line;\r\n        this.column = column;\r\n    }\r\n    return Position;\r\n}());\r\nexports[\"default\"] = Position;\r\n\n\n//# sourceURL=webpack://expression/./src/position.ts?");

/***/ }),

/***/ "./src/runtime.ts":
/*!************************!*\
  !*** ./src/runtime.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nexports.__esModule = true;\r\nexports.GenericRuntime = void 0;\r\nvar GenericRuntime = /** @class */ (function () {\r\n    function GenericRuntime(context) {\r\n        this.context = new Map;\r\n        for (var key in context) {\r\n            this.context.set(key, context[key]);\r\n        }\r\n    }\r\n    GenericRuntime.prototype.hasReference = function (property) {\r\n        return typeof this.context[property] !== 'undefined';\r\n    };\r\n    GenericRuntime.prototype.getReference = function (property) {\r\n        return this.context[property];\r\n    };\r\n    GenericRuntime.prototype.setReference = function (property, value) {\r\n        return this.context[property] = value;\r\n    };\r\n    return GenericRuntime;\r\n}());\r\nexports.GenericRuntime = GenericRuntime;\r\n\n\n//# sourceURL=webpack://expression/./src/runtime.ts?");

/***/ }),

/***/ "./src/token.ts":
/*!**********************!*\
  !*** ./src/token.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nexports.__esModule = true;\r\nexports.TokenStream = exports.Token = exports.Tokens = void 0;\r\nvar errors_1 = __webpack_require__(/*! ./errors */ \"./src/errors.ts\");\r\n// token name\r\nexports.Tokens = {};\r\nexports.Tokens[0] = 'eof';\r\nexports.Tokens[1] = 'string';\r\nexports.Tokens[2] = 'number';\r\nexports.Tokens[3] = 'id';\r\nexports.Tokens[4] = '+';\r\nexports.Tokens[5] = '-';\r\nexports.Tokens[6] = '*';\r\nexports.Tokens[7] = '/';\r\nexports.Tokens[8] = '%';\r\nexports.Tokens[9] = '++';\r\nexports.Tokens[10] = '--';\r\nexports.Tokens[11] = '!';\r\nexports.Tokens[12] = '!=';\r\nexports.Tokens[13] = '&';\r\nexports.Tokens[14] = '&&';\r\nexports.Tokens[15] = '||';\r\nexports.Tokens[16] = '=';\r\nexports.Tokens[17] = '>';\r\nexports.Tokens[18] = '>=';\r\nexports.Tokens[19] = '<';\r\nexports.Tokens[20] = '<=';\r\nexports.Tokens[21] = '==';\r\nexports.Tokens[22] = '(';\r\nexports.Tokens[23] = '[';\r\nexports.Tokens[24] = '{';\r\nexports.Tokens[25] = ')';\r\nexports.Tokens[26] = ']';\r\nexports.Tokens[27] = '}';\r\nexports.Tokens[28] = ',';\r\nexports.Tokens[29] = ':';\r\nexports.Tokens[30] = ';';\r\nexports.Tokens[31] = '.';\r\nexports.Tokens[32] = '?';\r\nvar OPERATOR_LEFT = 1;\r\nvar OPERATOR_RIGHT = 2;\r\nvar binaryOperators = {\r\n    'or': { 'precedence': 10, 'associativity': OPERATOR_LEFT },\r\n    '||': { 'precedence': 10, 'associativity': OPERATOR_LEFT },\r\n    'and': { 'precedence': 15, 'associativity': OPERATOR_LEFT },\r\n    '&&': { 'precedence': 15, 'associativity': OPERATOR_LEFT },\r\n    '|': { 'precedence': 16, 'associativity': OPERATOR_LEFT },\r\n    '^': { 'precedence': 17, 'associativity': OPERATOR_LEFT },\r\n    '&': { 'precedence': 18, 'associativity': OPERATOR_LEFT },\r\n    '==': { 'precedence': 20, 'associativity': OPERATOR_LEFT },\r\n    '!=': { 'precedence': 20, 'associativity': OPERATOR_LEFT },\r\n    '<': { 'precedence': 20, 'associativity': OPERATOR_LEFT },\r\n    '>': { 'precedence': 20, 'associativity': OPERATOR_LEFT },\r\n    '>=': { 'precedence': 20, 'associativity': OPERATOR_LEFT },\r\n    '<=': { 'precedence': 20, 'associativity': OPERATOR_LEFT },\r\n    'not in': { 'precedence': 20, 'associativity': OPERATOR_LEFT },\r\n    'in': { 'precedence': 20, 'associativity': OPERATOR_LEFT },\r\n    '..': { 'precedence': 25, 'associativity': OPERATOR_LEFT },\r\n    '+': { 'precedence': 30, 'associativity': OPERATOR_LEFT },\r\n    '-': { 'precedence': 30, 'associativity': OPERATOR_LEFT },\r\n    '~': { 'precedence': 40, 'associativity': OPERATOR_LEFT },\r\n    '*': { 'precedence': 60, 'associativity': OPERATOR_LEFT },\r\n    '/': { 'precedence': 60, 'associativity': OPERATOR_LEFT },\r\n    '%': { 'precedence': 60, 'associativity': OPERATOR_LEFT },\r\n    '**': { 'precedence': 200, 'associativity': OPERATOR_RIGHT }\r\n};\r\nvar unaryOperators = {\r\n    'not': { 'precedence': 50 },\r\n    '!': { 'precedence': 50 },\r\n    '-': { 'precedence': 500 },\r\n    '+': { 'precedence': 500 },\r\n    '--': { 'precedence': 500 },\r\n    '++': { 'precedence': 500 }\r\n};\r\nvar Token = /** @class */ (function () {\r\n    function Token(type, value, position) {\r\n        this.type = type;\r\n        this.value = value;\r\n        this.position = position;\r\n    }\r\n    // test whether the token match the given token type\r\n    Token.prototype.test = function (type) {\r\n        return this.type === type;\r\n    };\r\n    Token.prototype.testAny = function () {\r\n        var types = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            types[_i] = arguments[_i];\r\n        }\r\n        return types.indexOf(this.type) > -1;\r\n    };\r\n    Token.prototype.isBinaryOperator = function () {\r\n        return typeof binaryOperators[exports.Tokens[this.type]] !== 'undefined';\r\n    };\r\n    Token.prototype.getBinaryPrecedence = function () {\r\n        if (this.isBinaryOperator()) {\r\n            return binaryOperators[exports.Tokens[this.type]].precedence;\r\n        }\r\n        return -1;\r\n    };\r\n    Token.prototype.isUnaryOperator = function () {\r\n        return typeof unaryOperators[exports.Tokens[this.type]] !== 'undefined';\r\n    };\r\n    Token.prototype.getUnaryPrecedence = function () {\r\n        if (this.isBinaryOperator()) {\r\n            return unaryOperators[exports.Tokens[this.type]].precedence;\r\n        }\r\n        return -1;\r\n    };\r\n    return Token;\r\n}());\r\nexports.Token = Token;\r\nvar TokenStream = /** @class */ (function () {\r\n    function TokenStream() {\r\n        this.index = 0;\r\n        this.tokens = [];\r\n    }\r\n    TokenStream.prototype.add = function (token) {\r\n        this.tokens.push(token);\r\n    };\r\n    TokenStream.prototype.current = function () {\r\n        return this.tokens[this.index];\r\n    };\r\n    TokenStream.prototype.next = function () {\r\n        return this.tokens[this.index++];\r\n    };\r\n    TokenStream.prototype.look = function (number) {\r\n        return this.tokens[this.index + (number || 1)];\r\n    };\r\n    TokenStream.prototype.expect = function (type, message) {\r\n        var token = this.current();\r\n        var value = exports.Tokens[type];\r\n        if (!token.test(type)) {\r\n            message = \"\".concat(message ? message + '. ' : '', \"Unexpected token \\\"\").concat(token.type, \"\\\" of value \\\"\").concat(token.value, \"\\\" (\\\"\").concat(type, \"\\\" expected \").concat(value ? 'with value ' + value : '', \").\");\r\n            throw new errors_1.SyntaxError(message, token.position);\r\n        }\r\n        this.next();\r\n        return token;\r\n    };\r\n    TokenStream.prototype.expectOneOf = function () {\r\n        var types = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            types[_i] = arguments[_i];\r\n        }\r\n        var token = this.current();\r\n        if (!token.testAny.apply(token, types)) {\r\n            var values = types.map(function (type) { return exports.Tokens[type] || ''; });\r\n            var message = \"Unexpected token \\\"\".concat(token.type, \"\\\" of value \\\"\").concat(token.value, \"\\\" (\\\"\").concat(types.join(','), \"\\\" expected \").concat(values ? 'with value ' + values.join(',') : '', \").\");\r\n            throw new errors_1.SyntaxError(message, token.position);\r\n        }\r\n        this.next();\r\n        return token;\r\n    };\r\n    TokenStream.prototype.eof = function () {\r\n        return this.tokens[this.index].type === 0 /* T_EOF */;\r\n    };\r\n    return TokenStream;\r\n}());\r\nexports.TokenStream = TokenStream;\r\n\n\n//# sourceURL=webpack://expression/./src/token.ts?");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nexports.__esModule = true;\r\nexports[\"default\"] = {\r\n    isDigit: function (ch) {\r\n        return /[0-9]/i.test(ch);\r\n    },\r\n    isLetter: function (ch) {\r\n        return /[a-z_]/i.test(ch);\r\n    },\r\n    isIdentifier: function (ch) {\r\n        return /\\w/i.test(ch);\r\n    }\r\n};\r\n\n\n//# sourceURL=webpack://expression/./src/utils.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/expression.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});